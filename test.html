<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCLEX NEPAL || CV</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        @media print {
            @page {
                margin-top: 0;
                margin-bottom: 0;
            }

            body {
                padding-top: 72px;
                padding-bottom: 72px;
            }
        }

        .step-content {
            display: none;
        }

        /* Hide all steps initially */
        .step-content.active {
            display: block;
        }

        /* Show only the active step */

        .stepper-step {
            padding: 15px 0;
            font-weight: 600;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
            background-color: #f8f9fa;
            border-radius: 5px;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
        }

        .stepper-step:hover {
            background-color: #e2e6ea;
        }

        .stepper-step.active {
            background-color: #007bff;
            color: white;
        }

        .stepper-step.completed {
            background-color: #28a745;
            color: white;
        }

        .stepper-step::before {
            content: '';
            position: absolute;
            top: 50%;
            left: -10px;
            transform: translateY(-50%);
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #ccc;
            transition: all 0.3s ease;
        }

        .stepper-step.active::before {
            background-color: #007bff;
        }

        .stepper-step.completed::before {
            background-color: #28a745;
        }

        .row {
            margin-bottom: 30px;
        }

        /* Active step line */
        .stepper-step:not(:last-child):after {
            content: '';
            position: absolute;
            top: 50%;
            right: -10px;
            width: 100%;
            height: 2px;
            background-color: #ccc;
            transform: translateY(-50%);
        }

        .stepper-step.active:not(:last-child):after {
            background-color: #007bff;
        }

        .stepper-step.completed:not(:last-child):after {
            background-color: #28a745;
        }

        /* Center the buttons at the bottom of the page */
        .buttons-container {
            position: relative;
            left: 50%;
            bottom: 30px;
            /* Adjust distance from bottom */
            transform: translateX(-50%);
            display: flex;
            justify-content: center;
            gap: 10px;
            z-index: 999;
        }

        .buttons-container button {
            width: 150px;
            /* Make buttons the same width */
        }

        .pdf {
            display: block;
        }

        * {
            margin: 0;
            padding: 0;
            text-indent: 0;
        }

        h1 {
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: bold;
            text-decoration: none;
            font-size: 13pt;
        }

        .p,
        p {
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: none;
            font-size: 13pt;
            margin: 0pt;
        }

        .a,
        a {
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: none;
            font-size: 13pt;
        }

        .s1 {
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: bold;
            text-decoration: underline;
            font-size: 13pt;
        }

        .s2 {
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: underline;
            font-size: 13pt;
        }

        li {
            display: block;
        }

        #l1 {
            padding-left: 0pt;
        }

        #l1>li>*:first-child:before {
            content: "• ";
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: none;
            font-size: 13pt;
        }

        li {
            display: block;
        }

        #l2 {
            padding-left: 0pt;
            counter-reset: d1 1;
        }

        #l2>li>*:first-child:before {
            counter-increment: d1;
            content: counter(d1, decimal)". ";
            color: black;
            font-family: Calibri, sans-serif;
            font-style: normal;
            font-weight: bold;
            text-decoration: none;
            font-size: 13pt;
        }

        #l2>li:first-child>*:first-child:before {
            counter-increment: d1 0;
        }

        #l3 {
            padding-left: 0pt;
        }

        #l3>li>*:first-child:before {
            content: "● ";
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: none;
            font-size: 10pt;
        }

        #l4 {
            padding-left: 0pt;
        }

        #l4>li>*:first-child:before {
            content: "● ";
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: none;
            font-size: 13pt;
        }

        li {
            display: block;
        }

        #l5 {
            padding-left: 0pt;
        }

        #l5>li>*:first-child:before {
            content: "● ";
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: none;
            font-size: 13pt;
        }

        #l6 {
            padding-left: 0pt;
        }

        #l6>li>*:first-child:before {
            content: "● ";
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: none;
            font-size: 13pt;
        }

        li {
            display: block;
        }

        #l7 {
            padding-left: 0pt;
        }

        #l7>li>*:first-child:before {
            content: "● ";
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: none;
            font-size: 13pt;
        }

        #l8 {
            padding-left: 0pt;
            counter-reset: h1 1;
        }

        #l8>li>*:first-child:before {
            counter-increment: h1;
            content: counter(h1, decimal)". ";
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: none;
            font-size: 13pt;
        }

        #l8>li:first-child>*:first-child:before {
            counter-increment: h1 0;
        }

        #l9 {
            padding-left: 0pt;
            counter-reset: i1 1;
        }

        #l9>li>*:first-child:before {
            counter-increment: i1;
            content: counter(i1, decimal)". ";
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: none;
            font-size: 13pt;
        }

        #l9>li:first-child>*:first-child:before {
            counter-increment: i1 0;
        }

        #l10 {
            padding-left: 0pt;
        }

        #l10>li>*:first-child:before {
            content: "• ";
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: none;
            font-size: 13pt;
        }

        #l11 {
            padding-left: 0pt;
        }

        #l11>li>*:first-child:before {
            content: "● ";
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: none;
            font-size: 10pt;
        }

        li {
            display: block;
        }

        #l12 {
            padding-left: 0pt;
            counter-reset: j1 1;
        }

        #l12>li>*:first-child:before {
            counter-increment: j1;
            content: counter(j1, decimal)". ";
            color: black;
            font-family: "Times New Roman", serif;
            font-style: normal;
            font-weight: normal;
            text-decoration: none;
            font-size: 13pt;
        }

        #l12>li:first-child>*:first-child:before {
            counter-increment: j1 0;
        }
    </style>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="container mt-5" id="data">
        <h2>GENERATE YOUR CV </h2>

        <!-- Stepper Navigation -->
        <div class="row text-center mb-3 mt-4">
            <div class="col stepper-step step-1" onclick="showStep(1)">Get Started</div>
            <div class="col stepper-step step-2" onclick="showStep(2)">Personal Details</div>
            <div class="col stepper-step step-3" onclick="showStep(3)">Objectives</div>
            <div class="col stepper-step step-4" onclick="showStep(4)">Experience</div>
            <div class="col stepper-step step-5" onclick="showStep(5)">Education</div>
            <div class="col stepper-step step-6" onclick="showStep(6)">Training & Certificate</div>
            <div class="col stepper-step step-7" onclick="showStep(7)">Language</div>
            <div class="col stepper-step step-8" onclick="showStep(8)">Specializations and Skills</div>
            <div class="col stepper-step step-9" onclick="showStep(9)">References</div>
            <div class="col stepper-step step-9" onclick="showStep(10)">Download</div>

        </div>

        <!-- Step: Personal Details -->
        <div id="step-content-1" class="step-content active">
            <h3>Get Started</h3>
            <!-- Hero Section -->
            <section class="hero bg-primary text-white text-center py-5">
                <div class="container">
                    <h1 class="display-4 mb-4 text-white">Generate Your Professional CV</h1>
                    <p class="lead mb-4 text-white">Create a stunning CV in minutes with our easy-to-use generator tool.</p>
                </div>
            </section>
        </div>
        <!-- Step: Personal Details -->
        <div id="step-content-2" class="step-content">
            <h3>Personal Details</h3>
            <div id="persionalInfo"></div>
        </div>

        <!-- Step: Objectives -->
        <div id="step-content-3" class="step-content">
            <h3>Objectives</h3>
            <div id="objective"></div>
        </div>

        <!-- Step: Experience -->
        <div id="step-content-4" class="step-content">
            <h3>Experience</h3>
            <div id="experience"></div>

        </div>

        <!-- Step: Education -->
        <div id="step-content-5" class="step-content">
            <h3>Education</h3>
            <div id="education"></div>

        </div>

        <!-- Step: Training & Certificate -->
        <div id="step-content-6" class="step-content">
            <h3>Training & Certificate</h3>
            <div id="training"></div>

        </div>

        <!-- Step: Language -->
        <div id="step-content-7" class="step-content">
            <h3>Language</h3>
            <div id="language"></div>

        </div>

        <!-- Step: Specializations and Skills -->
        <div id="step-content-8" class="step-content">
            <h3>Specializations and Skills</h3>
            <div id="specialization"></div>

        </div>

        <!-- Step: References -->
        <div id="step-content-9" class="step-content">
            <h3>References</h3>
            <div id="reference"></div>

        </div>

        <!-- Step: Download -->
        <div id="step-content-10" class="step-content">
            <section class="hero bg-primary text-white text-center py-5">
                <div class="container text-white">
                    <h1 class="display-4 mb-4 text-white">Your CV is Ready!</h1>
                    <p class="lead mb-4 text-white">Download your nursing CV now with just a click.</p>
                    <button type="button" class="btn btn-success btn-lg" onclick="generatePDF()">Click here to
                        download</button>
                </div>
            </section>

        </div>

        <!-- Navigation Buttons -->
        <div class="mt-5">
            <div class="buttons-container">
                <button type="button" class="btn btn-secondary" onclick="prevStep()">Previous</button>
                <button type="button" class="btn btn-primary" onclick="nextStep()">Next</button>
            </div>
        </div>


    </div>

    <div class="pdf" id="content">

    </div>


    <script>
        let currentStep = 1; // Track the current step

        function showStep(step) {
            // Hide all steps and show only the active one
            document.querySelectorAll('.step-content').forEach(content => content.classList.remove('active'));
            document.getElementById(`step-content-${step}`).classList.add('active');

            // Update stepper step classes to highlight current step
            document.querySelectorAll('.stepper-step').forEach((stepEl, index) => {
                stepEl.classList.remove('text-primary', 'fw-bold');
                if (index + 1 === step) {
                    stepEl.classList.add('text-primary', 'fw-bold');
                }
            });
        }

        function nextStep() {
            if (currentStep < 10) {
                currentStep++;
                showStep(currentStep);
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        }

    </script>


    <script>

        // Reusable function to fetch and insert content into the target div and execute scripts
        function loadContent(fileName, targetId) {
            fetch(fileName)
                .then(response => response.text())
                .then(data => {
                    document.getElementById(targetId).innerHTML = data;
                    executeScripts(data);
                })
                .catch(error => console.error(`Error loading ${fileName}:`, error));
        }

        // Function to execute any scripts found in the fetched HTML content
        function executeScripts(content) {
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            const scripts = tempDiv.getElementsByTagName('script');

            for (let script of scripts) {
                const newScript = document.createElement('script');
                if (script.src) {
                    newScript.src = script.src;
                } else {
                    newScript.text = script.text;
                }
                document.head.appendChild(newScript);  // Append script to the document's head
            }
        }

        // Load content for all sections using the reusable function
        loadContent("persionalInfo.html", "persionalInfo");
        loadContent("objective.html", "objective");
        loadContent("experience.html", "experience");
        loadContent("education.html", "education");
        loadContent("training.html", "training");
        loadContent("language.html", "language");
        loadContent("specialization.html", "specialization");
        loadContent("reference.html", "reference");
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Function to generate PDF
        function generatePDF() {

            // Function to format dates as DD/MM/YYYY
            function formatDate(date) {
                return new Date(date).toLocaleDateString('en-GB'); // DD/MM/YYYY
            }
            // Get form values for personal information
            const fullName = document.getElementById('fullName').value;
            const address = document.getElementById('address').value;
            const phone = document.getElementById('phone').value;
            const email = document.getElementById('email').value;
            const dob = document.getElementById('dob').value;
            const permanentAddress = document.getElementById('permanentAddress').value;
            const maritalStatus = document.getElementById('maritalStatus').value;
            const sex = document.getElementById('sex').value;
            const nationality = document.getElementById('nationality').value;
            const nclexState = document.getElementById('nclexState').value;

            // Format the date of birth
            const formattedDob = formatDate(dob);

            // Add personal information to the PDF

            document.getElementsByClassName('pdf')[0].innerHTML = `
            <h1 style="padding-top: 3pt; padding-left: 19pt; text-indent: 0pt; line-height: 15pt; text-align: left;">
                NAME<span class="p">: ${fullName}</span>
            </h1>
            <h1 style="padding-left: 19pt; text-indent: 0pt; line-height: 15pt; text-align: left;">
                Address<span class="p">: ${address}</span>
            </h1>
            <h1 style="padding-left: 19pt; text-indent: 0pt; line-height: 15pt; text-align: left;">
                Phone<span class="p">: ${phone}</span>
            </h1>
            <h1 style="padding-left: 19pt; text-indent: 0pt; line-height: 15pt; text-align: left;">
                Email<a href="mailto:${email}" class="a" target="_blank">: ${email}</a>
            </h1>
            <h1 style="padding-left: 19pt; text-indent: 0pt; line-height: 15pt; text-align: left;">
                Date of Birth<span class="p">: ${formattedDob}</span>
            </h1>
            <h1 style="padding-left: 19pt; text-indent: 0pt; line-height: 15pt; text-align: left;">
                Permanent Address<span class="p">: ${permanentAddress}</span>
            </h1>
            <h1 style="padding-left: 19pt; text-indent: 0pt; line-height: 15pt; text-align: left;">
                Marital Status<span class="p">: ${maritalStatus}</span> 
                Sex<span class="p">: ${sex}</span>
                Nationality<span class="p">: ${nationality}</span>
            </h1>
            <h1 style="padding-left: 19pt; text-indent: 0pt; line-height: 15pt; text-align: left;">
                NCLEX Licensure State<span class="p">: ${nclexState}</span>
            </h1>
            <hr>
            `;


            // Add Objectives Section
            const objectivesList = document.getElementById('objectives-list');
            const objectives = objectivesList.getElementsByTagName('input');

            document.getElementsByClassName('pdf')[0].innerHTML += `
                <h1 style="padding-left: 19pt; text-indent: 0pt; line-height: 15pt; text-align: left;">Objectives</h1>
                <ul id="l1">
            `;

            // Loop through the objectives and add each one to the HTML content
            for (let i = 0; i < objectives.length; i++) {
                const objectiveText = objectives[i].value.trim(); // Get the trimmed value of each input
                if (objectiveText) {
                    // Append each objective as a list item
                    document.getElementsByClassName('pdf')[0].innerHTML += `
                        <li id="l11">
                            <p style="padding-left: 19pt; text-indent: 0pt; text-align: left;">
                              • ${objectiveText}
                            </p>
                        </li>
                    `;
                }
            }

            // Close the unordered list
            document.getElementsByClassName('pdf')[0].innerHTML += `
                </ul>
                <hr>
            `;


            // Add Work Experience Section
            const jobEntries = document.getElementsByClassName('job-entry');
            if (jobEntries.length > 0) {
                document.getElementsByClassName('pdf')[0].innerHTML += `
                    <h1 style="padding-left: 19pt;text-indent: 0pt;text-align: left;">Work Experience</h1>
                    <ol id="l2">
                `;

                for (let i = 0; i < jobEntries.length; i++) {
                    // Fetch input values for each job entry
                    const jobTitle = document.getElementById(`jobTitle${i + 1}`).value;
                    const unit = document.getElementById(`unit${i + 1}`).value;
                    const from = document.getElementById(`from${i + 1}`).value;
                    const to = document.getElementById(`to${i + 1}`).value;
                    const dutyHours = document.getElementById(`dutyHours${i + 1}`).value;
                    const hospitalName = document.getElementById(`hospitalName${i + 1}`).value;
                    const hospitalAddress = document.getElementById(`hospitalAddress${i + 1}`).value;

                    // Add Job Title, Unit, Dates, etc.
                    document.getElementsByClassName('pdf')[0].innerHTML += `
            <li data-list-text="${i + 1}.">
                <h1 style="padding-top: 13pt;padding-left: 32pt;text-indent: -17pt;line-height: 16pt;text-align: left;">
                   ${i + 1}. ${jobTitle}</h1>
                <h1 style="padding-left: 32pt;text-indent: 0pt;line-height: 15pt;text-align: left;">Unit: <span
                        class="p">${unit}</span></h1>
                <h1 style="padding-left: 32pt;text-indent: 0pt;line-height: 15pt;text-align: left;">From: <span
                        class="p">${formatDate(from)} – ${formatDate(to)}</span></h1>
                <h1 style="padding-left: 32pt;text-indent: 0pt;line-height: 15pt;text-align: left;">Duty Hours: <span
                        class="p">${dutyHours} hours per week</span></h1>
                <h1 style="padding-left: 32pt;text-indent: 0pt;line-height: 15pt;text-align: left;">Hospital Name: <span
                        class="p">${hospitalName}</span></h1>
                <h1 style="padding-left: 32pt;text-indent: 0pt;line-height: 15pt;text-align: left;">Hospital’s Address: <span
                        class="p">${hospitalAddress}</span></h1>
                <p class="s1" style="padding-top: 8pt;padding-left: 32pt;text-indent: 0pt;text-align: left;">Duties and Responsibilities:</p>
                <ul id="l3">
        `;

                    // Loop through Duties and Responsibilities
                    const dutiesList = document.getElementById(`duties-list-${i + 1}`).getElementsByTagName('input');
                    for (let j = 0; j < dutiesList.length; j++) {
                        const duty = dutiesList[j].value.trim();
                        if (duty) {
                            document.getElementsByClassName('pdf')[0].innerHTML += `
                    <li data-list-text="●">
                       <p style="padding-left: 40pt;text-indent: -18pt;text-align: left;">• ${duty}</p>
                    </li>
                `;
                        }
                    }

                    // Add Equipment Used Section
                    document.getElementsByClassName('pdf')[0].innerHTML += `
                <p class="s1" style="padding-top: 13pt;padding-left: 32pt;text-indent: 0pt;text-align: left;">
                    Equipment Used:
                </p>
                <ul id="l4">
        `;

                    // Loop through Equipment Used
                    const equipmentList = document.getElementById(`equipment-list-${i + 1}`).getElementsByTagName('input');
                    for (let k = 0; k < equipmentList.length; k++) {
                        const equipment = equipmentList[k].value.trim();
                        if (equipment) {
                            document.getElementsByClassName('pdf')[0].innerHTML += `
                    <li data-list-text="●">
                      <p style="padding-left: 36pt;text-indent: -17pt;line-height: 15pt;text-align: left;">• ${equipment}</p>
                    </li>
                `;
                        }
                    }

                    // Close the lists and list item
                    document.getElementsByClassName('pdf')[0].innerHTML += `
                </ul>
            </li>
        `;
                }

                // Close the ordered list
                document.getElementsByClassName('pdf')[0].innerHTML += `
        </ol>
        <hr>
    `;
            }

            // Add Education Section to the PDF
            const educationEntries = document.getElementsByClassName('education-entry');
            // Start by appending the opening part of the Education section
            document.getElementsByClassName('pdf')[0].innerHTML += `
    <h1 style="padding-left: 19pt; text-indent: 0pt; text-align: left;">Education</h1>
    <ol id="l2">
`;

            // Loop through the entries and append each education entry
            for (let i = 0; i < educationEntries.length; i++) {
                const degree = document.getElementById(`degree${i + 1}`).value;
                const graduationYear = document.getElementById(`graduationYear${i + 1}`).value;
                const percentage = document.getElementById(`percentage${i + 1}`).value;
                const university = document.getElementById(`university${i + 1}`).value;
                const universityAddress = document.getElementById(`universityAddress${i + 1}`).value;

                // Append the current education entry to the innerHTML of the pdf element
                document.getElementsByClassName('pdf')[0].innerHTML += `
        <li padding-left: 25pt; text-indent: 0pt; text-align: left;>
            <h1 style="padding-top: 13pt; padding-left: 32pt; text-indent: -17pt; line-height: 15pt; text-align: left;">${degree}</h1>
            <p style="padding-left: 23pt; text-indent: 0pt; line-height: 15pt; text-align: left;">Graduated: ${graduationYear}</p>
            <p style="padding-left: 23pt; text-indent: 0pt; line-height: 15pt; text-align: left;">Percentage/Grade: ${percentage}</p>
            <p style="padding-left: 23pt; text-indent: 0pt; line-height: 15pt; text-align: left;">${university}, ${universityAddress}</p>
        </li>
    `;
            }

            // Close the <ol> tag after the loop
            document.getElementsByClassName('pdf')[0].innerHTML += `</ol> <hr>`;

            // Add Training/Certificates Section to the PDF
            const trainingEntries = document.getElementsByClassName('training-entry');
            document.getElementsByClassName('pdf')[0].innerHTML += `
        <h1 style="padding-left: 19pt; text-indent: 0pt; text-align: left;">Training/Certificates</h1>
        <ol id="l8">
    `;

            // Loop through each training entry and add the details
            for (let i = 0; i < trainingEntries.length; i++) {
                const trainingName = document.getElementById(`trainingName${i + 1}`).value;
                const organization = document.getElementById(`organization${i + 1}`).value;
                const trainingDate = document.getElementById(`trainingDate${i + 1}`).value;

                // Append each training/certificate entry to the innerHTML
                document.getElementsByClassName('pdf')[0].innerHTML += `
            <li data-list-text="${i + 1}.">
                <h1 style="padding-top: 13pt; padding-left: 54pt; text-indent: -17pt; line-height: 15pt; text-align: left;">
                    ${trainingName}
                </h1>
                <h1 style="padding-left: 55pt; text-indent: 0pt; line-height: 15pt; text-align: left;">
                    Issuing Organization: <span class="p">${organization}</span>
                </h1>
                <h1 style="padding-left: 55pt; text-indent: 0pt; line-height: 15pt; text-align: left;">
                    Date: <span class="p">${trainingDate}</span>
                </h1>
            </li>
        `;
            }

            // Close the ordered list
            document.getElementsByClassName('pdf')[0].innerHTML += `</ol> <hr>`;

            // Get all language entries and add them to the PDF
            const languageEntries = document.getElementsByClassName('language-entry');
            // Start by adding the section title
            document.getElementsByClassName('pdf')[0].innerHTML += `
        <h1 style="padding-left: 19pt; text-indent: 0pt; text-align: left;">Language</h1>
        <ol id="l9">
    `;

            // Loop through each language entry and add the details
            for (let i = 0; i < languageEntries.length; i++) {
                const language = document.getElementById(`language${i + 1}`).value;

                // Append each language entry to the ordered list
                document.getElementsByClassName('pdf')[0].innerHTML += `
            <li data-list-text="${i + 1}.">
                <p style="padding-top: 13pt; padding-left: 54pt; text-indent: -17pt; text-align: left;">
                  • ${language}
                </p>
            </li>
        `;
            }

            // Close the ordered list
            document.getElementsByClassName('pdf')[0].innerHTML += `</ol> <hr>`;


            // Loop through all specializations and skills and add them to the PDF
            const specializationEntries = document.getElementsByClassName('specialization-entry');
            // Add the section title
            document.getElementsByClassName('pdf')[0].innerHTML += `
        <h1 style="padding-left: 19pt; text-indent: 0pt; line-height: 15pt; text-align: left;">
            Specializations and Skills
        </h1>
        <ul id="l10">
    `;

            // Loop through each specialization entry and add its details
            for (let i = 0; i < specializationEntries.length; i++) {
                const specializationName = document.getElementById(`specialization${i + 1}`).value;

                // Add specialization to the list
                document.getElementsByClassName('pdf')[0].innerHTML += `
            <li data-list-text="•">
                <h1 style="padding-left: 34pt; text-indent: -7pt; line-height: 15pt; text-align: left; padding-top:10pt;">
                    Specializations<span class="p">: ${specializationName}</span>
                </h1>
        `;

                // Add skills for the current specialization
                document.getElementsByClassName('pdf')[0].innerHTML += `
            <h1 style="padding-left: 34pt; text-indent: -7pt; line-height: 15pt; text-align: left;">
                Skills<span class="p">:</span>
            </h1>
            
        `;

                // Get the skill entries for the current specialization
                const skillEntries = document.getElementById(`skills-entries-container-${i + 1}`).getElementsByClassName('skill-entry');

                // Loop through each skill entry and add the skill to the list
                for (let j = 0; j < skillEntries.length; j++) {
                    const skill = document.getElementById(`skill${i + 1}-${j + 1}`).value;

                    // Add each skill to the list
                    document.getElementsByClassName('pdf')[0].innerHTML += `
                <li data-list-text="●">
                    <p style="padding-top: 13pt; padding-left: 54pt; text-indent: -17pt; line-height: 15pt; text-align: left;">
                      • ${skill}
                    </p>
                </li>
            `;
                }

                // Close the skills list
                document.getElementsByClassName('pdf')[0].innerHTML += `</ul>`;

                // Close the specialization item
                document.getElementsByClassName('pdf')[0].innerHTML += `</li>`;
            }

            // Close the specialization list
            document.getElementsByClassName('pdf')[0].innerHTML += `<hr>`;


            // Loop through all reference entries and add them to the PDF
            const referenceEntries = document.getElementsByClassName('reference-entry');

            document.getElementsByClassName('pdf')[0].innerHTML += `
        <h1 style="padding-left: 19pt; text-indent: 0pt; text-align: left;">References</h1>
        <ol id="l12">
    `;

            // Loop through each reference entry and add its details
            for (let i = 0; i < referenceEntries.length; i++) {
                const referenceName = document.getElementById(`referenceName${i + 1}`).value;
                const position = document.getElementById(`position${i + 1}`).value;
                const organization = document.getElementById(`organization${i + 1}`).value;
                const contactInfo = document.getElementById(`contactInfo${i + 1}`).value;

                // Add the reference name
                document.getElementsByClassName('pdf')[0].innerHTML += `
            <li data-list-text="${i + 1}.">
                <p style="padding-top: 3pt; padding-left: 54pt; text-indent: -17pt; line-height: 15pt; text-align: left;">
                    ${referenceName}
                </p>
                <h1 style="padding-left: 55pt; text-indent: 0pt; text-align: left;">
                    Position<span class="p">: ${position}</span> 
                    Organization<span class="p">: ${organization}</span> 
                    Contact Information<span class="p">: ${contactInfo}</span>
                </h1>
        `;

                // Close the reference item
                document.getElementsByClassName('pdf')[0].innerHTML += `</li>`;
            }

            // Close the reference list
            document.getElementsByClassName('pdf')[0].innerHTML += `</ol>`;


            // Save the PDF
            // doc.save('newcv.pdf');
            document.getElementById('data').style.display = 'none';

            // now print

            window.print();
            // const { jsPDF } = window.jspdf;
            // const doc = new jsPDF('p', 'mm', 'a4');

            // // Get the content from the div
            // const content = document.getElementsByClassName("pdf");

            // // Wrap html2canvas in a promise
            // new Promise(function (resolve, reject) {
            //     html2canvas(content, {
            //         onrendered: function (canvas) {
            //             resolve(canvas);
            //         }
            //     });
            // }).then(function (canvas) {
            //     // Convert the canvas to an image
            //     const imgData = canvas.toDataURL("image/png");

            //     // Define margins and padding
            //     const margin = 10; // Margin around the page (in mm)
            //     const padding = 5; // Padding inside the page (in mm)

            //     // A4 page dimensions (in mm)
            //     const imgWidth = 210 - 2 * margin; // A4 width minus left and right margin
            //     const pageHeight = 295 - 2 * margin; // A4 height minus top and bottom margin

            //     // Scale the image to fit the page width with the defined margin
            //     const imgHeight = canvas.height * imgWidth / canvas.width;
            //     let heightLeft = imgHeight;
            //     let position = margin; // Start from the margin to account for padding

            //     // Add the first page with the image, including margin and padding
            //     doc.addImage(imgData, 'PNG', margin, position, imgWidth, imgHeight);
            //     heightLeft -= pageHeight;

            //     while (heightLeft >= 0) {
            //         position = heightLeft - imgHeight;
            //         doc.addPage();
            //         doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
            //         heightLeft -= pageHeight;
            //     }
            //     doc.save('file.pdf');
            // }).catch(function (error) {
            //     console.error("Error capturing the content:", error);
            // });
        }


    </script>


</body>

</html>